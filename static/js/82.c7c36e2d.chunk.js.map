{"version":3,"file":"static/js/82.c7c36e2d.chunk.js","mappings":"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","sources":["../../node_modules/lodash-es/clone.js","../../node_modules/dagre-d3-es/src/graphlib/json.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-line.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-polygon.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-rect.js","../../node_modules/khroma/dist/methods/channel.js","../../node_modules/dagre-d3-es/src/dagre-js/arrows.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-label.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-svg-label.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-text-label.js","../../node_modules/dagre-d3-es/src/dagre-js/create-clusters.js","../../node_modules/dagre-d3-es/src/dagre-js/create-edge-labels.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-node.js","../../node_modules/dagre-d3-es/src/dagre-js/create-edge-paths.js","../../node_modules/dagre-d3-es/src/dagre-js/create-nodes.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-ellipse.js","../../node_modules/dagre-d3-es/src/dagre-js/shapes.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-circle.js","../../node_modules/dagre-d3-es/src/dagre-js/render.js","../../node_modules/dagre-d3-es/src/dagre-js/position-nodes.js","../../node_modules/dagre-d3-es/src/dagre-js/position-edge-labels.js","../../node_modules/dagre-d3-es/src/dagre-js/position-clusters.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-html-label.js","../../node_modules/dagre-d3-es/src/dagre-js/util.js"],"sourcesContent":["import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nexport default clone;\n","import * as _ from 'lodash-es';\nimport { Graph } from './graph.js';\n\nexport { write, read };\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound(),\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g),\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function (v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function (e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function (entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function (entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","export { intersectLine };\n\n/*\n * Returns the point at which two lines, p and q, intersect or returns\n * undefined if they do not intersect.\n */\nfunction intersectLine(p1, p2, q1, q2) {\n  // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\n  // p7 and p473.\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\n  // b1 y + c1 = 0.\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n\n  // Compute r3 and r4.\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n\n  // Compute r1 and r2\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Line segments intersect: compute intersection point.\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return /*COLLINEAR*/;\n  }\n\n  offset = Math.abs(denom / 2);\n\n  // The denom/2 is to get rounding instead of truncating. It\n  // is added or subtracted to the numerator, depending upon the\n  // sign of the numerator.\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  return { x: x, y: y };\n}\n\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n","import { intersectLine } from './intersect-line.js';\n\nexport { intersectPolygon };\n\n/*\n * Returns the point ({x, y}) at which the point argument intersects with the\n * node argument assuming that it has the shape specified by polygon.\n */\nfunction intersectPolygon(node, polyPoints, point) {\n  var x1 = node.x;\n  var y1 = node.y;\n\n  var intersections = [];\n\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  polyPoints.forEach(function (entry) {\n    minX = Math.min(minX, entry.x);\n    minY = Math.min(minY, entry.y);\n  });\n\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersectLine(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n\n  if (!intersections.length) {\n    console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\n    return node;\n  }\n\n  if (intersections.length > 1) {\n    // More intersections, find the one nearest to edge end point\n    intersections.sort(function (p, q) {\n      var pdx = p.x - point.x;\n      var pdy = p.y - point.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n\n      var qdx = q.x - point.x;\n      var qdy = q.y - point.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n","export { intersectRect };\n\nfunction intersectRect(node, point) {\n  var x = node.x;\n  var y = node.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : (h * dx) / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : (w * dy) / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n}\n","/* IMPORT */\nimport _ from '../utils/index.js';\nimport Color from '../color/index.js';\n/* MAIN */\nconst channel = (color, channel) => {\n    return _.lang.round(Color.parse(color)[channel]);\n};\n/* EXPORT */\nexport default channel;\n","import * as util from './util.js';\n\nexport { arrows, setArrows };\n\nvar arrows = {\n  normal,\n  vee,\n  undirected,\n};\n\nfunction setArrows(value) {\n  arrows = value;\n}\n\nfunction normal(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n\nfunction vee(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 L 4 5 z')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n\nfunction undirected(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 5 L 10 5')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n","import { addHtmlLabel } from './add-html-label.js';\nimport { addSVGLabel } from './add-svg-label.js';\nimport { addTextLabel } from './add-text-label.js';\n\nexport { addLabel };\n\nfunction addLabel(root, node, location) {\n  var label = node.label;\n  var labelSvg = root.append('g');\n\n  // Allow the label to be a string, a function that returns a DOM element, or\n  // a DOM element itself.\n  if (node.labelType === 'svg') {\n    addSVGLabel(labelSvg, node);\n  } else if (typeof label !== 'string' || node.labelType === 'html') {\n    addHtmlLabel(labelSvg, node);\n  } else {\n    addTextLabel(labelSvg, node);\n  }\n\n  var labelBBox = labelSvg.node().getBBox();\n  var y;\n  switch (location) {\n    case 'top':\n      y = -node.height / 2;\n      break;\n    case 'bottom':\n      y = node.height / 2 - labelBBox.height;\n      break;\n    default:\n      y = -labelBBox.height / 2;\n  }\n  labelSvg.attr('transform', 'translate(' + -labelBBox.width / 2 + ',' + y + ')');\n\n  return labelSvg;\n}\n","import * as util from '../util.js';\n\nexport { addSVGLabel };\n\nfunction addSVGLabel(root, node) {\n  var domNode = root;\n\n  domNode.node().appendChild(node.label);\n\n  util.applyStyle(domNode, node.labelStyle);\n\n  return domNode;\n}\n","import * as util from '../util.js';\n\nexport { addTextLabel };\n\n/*\n * Attaches a text label to the specified root. Handles escape sequences.\n */\nfunction addTextLabel(root, node) {\n  var domNode = root.append('text');\n\n  var lines = processEscapeSequences(node.label).split('\\n');\n  for (var i = 0; i < lines.length; i++) {\n    domNode\n      .append('tspan')\n      .attr('xml:space', 'preserve')\n      .attr('dy', '1em')\n      .attr('x', '1')\n      .text(lines[i]);\n  }\n\n  util.applyStyle(domNode, node.labelStyle);\n\n  return domNode;\n}\n\nfunction processEscapeSequences(text) {\n  var newText = '';\n  var escaped = false;\n  var ch;\n  for (var i = 0; i < text.length; ++i) {\n    ch = text[i];\n    if (escaped) {\n      switch (ch) {\n        case 'n':\n          newText += '\\n';\n          break;\n        default:\n          newText += ch;\n      }\n      escaped = false;\n    } else if (ch === '\\\\') {\n      escaped = true;\n    } else {\n      newText += ch;\n    }\n  }\n  return newText;\n}\n","import * as d3 from 'd3';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createClusters, setCreateClusters };\n\nvar createClusters = function (selection, g) {\n  var clusters = g.nodes().filter(function (v) {\n    return util.isSubgraph(g, v);\n  });\n  var svgClusters = selection.selectAll('g.cluster').data(clusters, function (v) {\n    return v;\n  });\n\n  util.applyTransition(svgClusters.exit(), g).style('opacity', 0).remove();\n\n  var enterSelection = svgClusters\n    .enter()\n    .append('g')\n    .attr('class', 'cluster')\n    .attr('id', function (v) {\n      var node = g.node(v);\n      return node.id;\n    })\n    .style('opacity', 0)\n    .each(function (v) {\n      var node = g.node(v);\n      var thisGroup = d3.select(this);\n      d3.select(this).append('rect');\n      var labelGroup = thisGroup.append('g').attr('class', 'label');\n      addLabel(labelGroup, node, node.clusterLabelPos);\n    });\n\n  svgClusters = svgClusters.merge(enterSelection);\n\n  svgClusters = util.applyTransition(svgClusters, g).style('opacity', 1);\n\n  svgClusters.selectAll('rect').each(function (c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n\n  return svgClusters;\n};\n\nfunction setCreateClusters(value) {\n  createClusters = value;\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createEdgeLabels, setCreateEdgeLabels };\n\nlet createEdgeLabels = function (selection, g) {\n  var svgEdgeLabels = selection\n    .selectAll('g.edgeLabel')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  svgEdgeLabels.exit().remove();\n  svgEdgeLabels.enter().append('g').classed('edgeLabel', true).style('opacity', 0);\n\n  svgEdgeLabels = selection.selectAll('g.edgeLabel');\n\n  svgEdgeLabels.each(function (e) {\n    var root = d3.select(this);\n    root.select('.label').remove();\n    var edge = g.edge(e);\n    var label = addLabel(root, g.edge(e), 0).classed('label', true);\n    var bbox = label.node().getBBox();\n\n    if (edge.labelId) {\n      label.attr('id', edge.labelId);\n    }\n    if (!_.has(edge, 'width')) {\n      edge.width = bbox.width;\n    }\n    if (!_.has(edge, 'height')) {\n      edge.height = bbox.height;\n    }\n  });\n\n  var exitSelection;\n\n  if (svgEdgeLabels.exit) {\n    exitSelection = svgEdgeLabels.exit();\n  } else {\n    exitSelection = svgEdgeLabels.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgEdgeLabels;\n};\n\nfunction setCreateEdgeLabels(value) {\n  createEdgeLabels = value;\n}\n","export { intersectNode };\n\nfunction intersectNode(node, point) {\n  return node.intersect(point);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { intersectNode } from './intersect/intersect-node.js';\nimport * as util from './util.js';\n\nexport { createEdgePaths, setCreateEdgePaths };\n\nvar createEdgePaths = function (selection, g, arrows) {\n  var previousPaths = selection\n    .selectAll('g.edgePath')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  var newPaths = enter(previousPaths, g);\n  exit(previousPaths, g);\n\n  var svgPaths = previousPaths.merge !== undefined ? previousPaths.merge(newPaths) : previousPaths;\n  util.applyTransition(svgPaths, g).style('opacity', 1);\n\n  // Save DOM element in the path group, and set ID and class\n  svgPaths.each(function (e) {\n    var domEdge = d3.select(this);\n    var edge = g.edge(e);\n    edge.elem = this;\n\n    if (edge.id) {\n      domEdge.attr('id', edge.id);\n    }\n\n    util.applyClass(\n      domEdge,\n      edge['class'],\n      (domEdge.classed('update') ? 'update ' : '') + 'edgePath'\n    );\n  });\n\n  svgPaths.selectAll('path.path').each(function (e) {\n    var edge = g.edge(e);\n    edge.arrowheadId = _.uniqueId('arrowhead');\n\n    var domEdge = d3\n      .select(this)\n      .attr('marker-end', function () {\n        return 'url(' + makeFragmentRef(location.href, edge.arrowheadId) + ')';\n      })\n      .style('fill', 'none');\n\n    util.applyTransition(domEdge, g).attr('d', function (e) {\n      return calcPoints(g, e);\n    });\n\n    util.applyStyle(domEdge, edge.style);\n  });\n\n  svgPaths.selectAll('defs *').remove();\n  svgPaths.selectAll('defs').each(function (e) {\n    var edge = g.edge(e);\n    var arrowhead = arrows[edge.arrowhead];\n    arrowhead(d3.select(this), edge.arrowheadId, edge, 'arrowhead');\n  });\n\n  return svgPaths;\n};\n\nfunction setCreateEdgePaths(value) {\n  createEdgePaths = value;\n}\n\nfunction makeFragmentRef(url, fragmentId) {\n  var baseUrl = url.split('#')[0];\n  return baseUrl + '#' + fragmentId;\n}\n\nfunction calcPoints(g, e) {\n  var edge = g.edge(e);\n  var tail = g.node(e.v);\n  var head = g.node(e.w);\n  var points = edge.points.slice(1, edge.points.length - 1);\n  points.unshift(intersectNode(tail, points[0]));\n  points.push(intersectNode(head, points[points.length - 1]));\n\n  return createLine(edge, points);\n}\n\nfunction createLine(edge, points) {\n  // @ts-expect-error\n  var line = (d3.line || d3.svg.line)()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    });\n\n  (line.curve || line.interpolate)(edge.curve);\n\n  return line(points);\n}\n\nfunction getCoords(elem) {\n  var bbox = elem.getBBox();\n  var matrix = elem.ownerSVGElement\n    .getScreenCTM()\n    .inverse()\n    .multiply(elem.getScreenCTM())\n    .translate(bbox.width / 2, bbox.height / 2);\n  return { x: matrix.e, y: matrix.f };\n}\n\nfunction enter(svgPaths, g) {\n  var svgPathsEnter = svgPaths.enter().append('g').attr('class', 'edgePath').style('opacity', 0);\n  svgPathsEnter\n    .append('path')\n    .attr('class', 'path')\n    .attr('d', function (e) {\n      var edge = g.edge(e);\n      var sourceElem = g.node(e.v).elem;\n      var points = _.range(edge.points.length).map(function () {\n        return getCoords(sourceElem);\n      });\n      return createLine(edge, points);\n    });\n  svgPathsEnter.append('defs');\n  return svgPathsEnter;\n}\n\nfunction exit(svgPaths, g) {\n  var svgPathExit = svgPaths.exit();\n  util.applyTransition(svgPathExit, g).style('opacity', 0).remove();\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createNodes, setCreateNodes };\n\nvar createNodes = function (selection, g, shapes) {\n  var simpleNodes = g.nodes().filter(function (v) {\n    return !util.isSubgraph(g, v);\n  });\n  var svgNodes = selection\n    .selectAll('g.node')\n    .data(simpleNodes, function (v) {\n      return v;\n    })\n    .classed('update', true);\n\n  svgNodes.exit().remove();\n\n  svgNodes.enter().append('g').attr('class', 'node').style('opacity', 0);\n\n  svgNodes = selection.selectAll('g.node');\n\n  svgNodes.each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    util.applyClass(\n      thisGroup,\n      node['class'],\n      (thisGroup.classed('update') ? 'update ' : '') + 'node'\n    );\n\n    thisGroup.select('g.label').remove();\n    var labelGroup = thisGroup.append('g').attr('class', 'label');\n    var labelDom = addLabel(labelGroup, node);\n    var shape = shapes[node.shape];\n    var bbox = _.pick(labelDom.node().getBBox(), 'width', 'height');\n\n    node.elem = this;\n\n    if (node.id) {\n      thisGroup.attr('id', node.id);\n    }\n    if (node.labelId) {\n      labelGroup.attr('id', node.labelId);\n    }\n\n    if (_.has(node, 'width')) {\n      bbox.width = node.width;\n    }\n    if (_.has(node, 'height')) {\n      bbox.height = node.height;\n    }\n\n    bbox.width += node.paddingLeft + node.paddingRight;\n    bbox.height += node.paddingTop + node.paddingBottom;\n    labelGroup.attr(\n      'transform',\n      'translate(' +\n        (node.paddingLeft - node.paddingRight) / 2 +\n        ',' +\n        (node.paddingTop - node.paddingBottom) / 2 +\n        ')'\n    );\n\n    var root = d3.select(this);\n    root.select('.label-container').remove();\n    var shapeSvg = shape(root, bbox, node).classed('label-container', true);\n    util.applyStyle(shapeSvg, node.style);\n\n    var shapeBBox = shapeSvg.node().getBBox();\n    node.width = shapeBBox.width;\n    node.height = shapeBBox.height;\n  });\n\n  var exitSelection;\n\n  if (svgNodes.exit) {\n    exitSelection = svgNodes.exit();\n  } else {\n    exitSelection = svgNodes.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgNodes;\n};\n\nfunction setCreateNodes(value) {\n  createNodes = value;\n}\n","export { intersectEllipse };\n\nfunction intersectEllipse(node, rx, ry, point) {\n  // Formulae from: http://mathworld.wolfram.com/Ellipse-LineIntersection.html\n\n  var cx = node.x;\n  var cy = node.y;\n\n  var px = cx - point.x;\n  var py = cy - point.y;\n\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n\n  var dx = Math.abs((rx * ry * px) / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs((rx * ry * py) / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n\n  return { x: cx + dx, y: cy + dy };\n}\n","import { intersectCircle } from './intersect/intersect-circle.js';\nimport { intersectEllipse } from './intersect/intersect-ellipse.js';\nimport { intersectPolygon } from './intersect/intersect-polygon.js';\nimport { intersectRect } from './intersect/intersect-rect.js';\n\nexport { shapes, setShapes };\n\nvar shapes = {\n  rect,\n  ellipse,\n  circle,\n  diamond,\n};\n\nfunction setShapes(value) {\n  shapes = value;\n}\n\nfunction rect(parent, bbox, node) {\n  var shapeSvg = parent\n    .insert('rect', ':first-child')\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('width', bbox.width)\n    .attr('height', bbox.height);\n\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n}\n\nfunction ellipse(parent, bbox, node) {\n  var rx = bbox.width / 2;\n  var ry = bbox.height / 2;\n  var shapeSvg = parent\n    .insert('ellipse', ':first-child')\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('rx', rx)\n    .attr('ry', ry);\n\n  node.intersect = function (point) {\n    return intersectEllipse(node, rx, ry, point);\n  };\n\n  return shapeSvg;\n}\n\nfunction circle(parent, bbox, node) {\n  var r = Math.max(bbox.width, bbox.height) / 2;\n  var shapeSvg = parent\n    .insert('circle', ':first-child')\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('r', r);\n\n  node.intersect = function (point) {\n    return intersectCircle(node, r, point);\n  };\n\n  return shapeSvg;\n}\n\n// Circumscribe an ellipse for the bounding box with a diamond shape. I derived\n// the function to calculate the diamond shape from:\n// http://mathforum.org/kb/message.jspa?messageID=3750236\nfunction diamond(parent, bbox, node) {\n  var w = (bbox.width * Math.SQRT2) / 2;\n  var h = (bbox.height * Math.SQRT2) / 2;\n  var points = [\n    { x: 0, y: -h },\n    { x: -w, y: 0 },\n    { x: 0, y: h },\n    { x: w, y: 0 },\n  ];\n  var shapeSvg = parent.insert('polygon', ':first-child').attr(\n    'points',\n    points\n      .map(function (p) {\n        return p.x + ',' + p.y;\n      })\n      .join(' ')\n  );\n\n  node.intersect = function (p) {\n    return intersectPolygon(node, points, p);\n  };\n\n  return shapeSvg;\n}\n","import { intersectEllipse } from './intersect-ellipse.js';\n\nexport { intersectCircle };\n\nfunction intersectCircle(node, rx, point) {\n  return intersectEllipse(node, rx, rx, point);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { layout } from '../dagre/index.js';\nimport { arrows, setArrows } from './arrows.js';\nimport { createClusters, setCreateClusters } from './create-clusters.js';\nimport { createEdgeLabels, setCreateEdgeLabels } from './create-edge-labels.js';\nimport { createEdgePaths, setCreateEdgePaths } from './create-edge-paths.js';\nimport { createNodes, setCreateNodes } from './create-nodes.js';\nimport { positionClusters } from './position-clusters.js';\nimport { positionEdgeLabels } from './position-edge-labels.js';\nimport { positionNodes } from './position-nodes.js';\nimport { shapes, setShapes } from './shapes.js';\n\nexport { render };\n\n// This design is based on http://bost.ocks.org/mike/chart/.\nfunction render() {\n  var fn = function (svg, g) {\n    preProcessGraph(g);\n\n    var outputGroup = createOrSelectGroup(svg, 'output');\n    var clustersGroup = createOrSelectGroup(outputGroup, 'clusters');\n    var edgePathsGroup = createOrSelectGroup(outputGroup, 'edgePaths');\n    var edgeLabels = createEdgeLabels(createOrSelectGroup(outputGroup, 'edgeLabels'), g);\n    var nodes = createNodes(createOrSelectGroup(outputGroup, 'nodes'), g, shapes);\n\n    layout(g);\n\n    positionNodes(nodes, g);\n    positionEdgeLabels(edgeLabels, g);\n    createEdgePaths(edgePathsGroup, g, arrows);\n\n    var clusters = createClusters(clustersGroup, g);\n    positionClusters(clusters, g);\n\n    postProcessGraph(g);\n  };\n\n  fn.createNodes = function (value) {\n    if (!arguments.length) return createNodes;\n    setCreateNodes(value);\n    return fn;\n  };\n\n  fn.createClusters = function (value) {\n    if (!arguments.length) return createClusters;\n    setCreateClusters(value);\n    return fn;\n  };\n\n  fn.createEdgeLabels = function (value) {\n    if (!arguments.length) return createEdgeLabels;\n    setCreateEdgeLabels(value);\n    return fn;\n  };\n\n  fn.createEdgePaths = function (value) {\n    if (!arguments.length) return createEdgePaths;\n    setCreateEdgePaths(value);\n    return fn;\n  };\n\n  fn.shapes = function (value) {\n    if (!arguments.length) return shapes;\n    setShapes(value);\n    return fn;\n  };\n\n  fn.arrows = function (value) {\n    if (!arguments.length) return arrows;\n    setArrows(value);\n    return fn;\n  };\n\n  return fn;\n}\n\nvar NODE_DEFAULT_ATTRS = {\n  paddingLeft: 10,\n  paddingRight: 10,\n  paddingTop: 10,\n  paddingBottom: 10,\n  rx: 0,\n  ry: 0,\n  shape: 'rect',\n};\n\nvar EDGE_DEFAULT_ATTRS = {\n  arrowhead: 'normal',\n  curve: d3.curveLinear,\n};\n\nfunction preProcessGraph(g) {\n  g.nodes().forEach(function (v) {\n    var node = g.node(v);\n    if (!_.has(node, 'label') && !g.children(v).length) {\n      node.label = v;\n    }\n\n    if (_.has(node, 'paddingX')) {\n      _.defaults(node, {\n        paddingLeft: node.paddingX,\n        paddingRight: node.paddingX,\n      });\n    }\n\n    if (_.has(node, 'paddingY')) {\n      _.defaults(node, {\n        paddingTop: node.paddingY,\n        paddingBottom: node.paddingY,\n      });\n    }\n\n    if (_.has(node, 'padding')) {\n      _.defaults(node, {\n        paddingLeft: node.padding,\n        paddingRight: node.padding,\n        paddingTop: node.padding,\n        paddingBottom: node.padding,\n      });\n    }\n\n    _.defaults(node, NODE_DEFAULT_ATTRS);\n\n    _.each(['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'], function (k) {\n      node[k] = Number(node[k]);\n    });\n\n    // Save dimensions for restore during post-processing\n    if (_.has(node, 'width')) {\n      node._prevWidth = node.width;\n    }\n    if (_.has(node, 'height')) {\n      node._prevHeight = node.height;\n    }\n  });\n\n  g.edges().forEach(function (e) {\n    var edge = g.edge(e);\n    if (!_.has(edge, 'label')) {\n      edge.label = '';\n    }\n    _.defaults(edge, EDGE_DEFAULT_ATTRS);\n  });\n}\n\nfunction postProcessGraph(g) {\n  _.each(g.nodes(), function (v) {\n    var node = g.node(v);\n\n    // Restore original dimensions\n    if (_.has(node, '_prevWidth')) {\n      node.width = node._prevWidth;\n    } else {\n      delete node.width;\n    }\n\n    if (_.has(node, '_prevHeight')) {\n      node.height = node._prevHeight;\n    } else {\n      delete node.height;\n    }\n\n    delete node._prevWidth;\n    delete node._prevHeight;\n  });\n}\n\nfunction createOrSelectGroup(root, name) {\n  var selection = root.select('g.' + name);\n  if (selection.empty()) {\n    selection = root.append('g').attr('class', name);\n  }\n  return selection;\n}\n","import * as d3 from 'd3';\nimport * as util from './util.js';\n\nexport { positionNodes };\n\nfunction positionNodes(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(v) {\n    var node = g.node(v);\n    return 'translate(' + node.x + ',' + node.y + ')';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport * as util from './util.js';\n\nexport { positionEdgeLabels };\n\nfunction positionEdgeLabels(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(e) {\n    var edge = g.edge(e);\n    return _.has(edge, 'x') ? 'translate(' + edge.x + ',' + edge.y + ')' : '';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n}\n","import * as d3 from 'd3';\nimport * as util from './util.js';\n\nexport { positionClusters };\n\nfunction positionClusters(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(v) {\n    var node = g.node(v);\n    return 'translate(' + node.x + ',' + node.y + ')';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n\n  util\n    .applyTransition(created.selectAll('rect'), g)\n    .attr('width', function (v) {\n      return g.node(v).width;\n    })\n    .attr('height', function (v) {\n      return g.node(v).height;\n    })\n    .attr('x', function (v) {\n      var node = g.node(v);\n      return -node.width / 2;\n    })\n    .attr('y', function (v) {\n      var node = g.node(v);\n      return -node.height / 2;\n    });\n}\n","import * as util from '../util.js';\n\nexport { addHtmlLabel };\n\nfunction addHtmlLabel(root, node) {\n  var fo = root.append('foreignObject').attr('width', '100000');\n\n  var div = fo.append('xhtml:div');\n  div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\n\n  var label = node.label;\n  switch (typeof label) {\n    case 'function':\n      div.insert(label);\n      break;\n    case 'object':\n      // Currently we assume this is a DOM object.\n      div.insert(function () {\n        return label;\n      });\n      break;\n    default:\n      div.html(label);\n  }\n\n  util.applyStyle(div, node.labelStyle);\n  div.style('display', 'inline-block');\n  // Fix for firefox\n  div.style('white-space', 'nowrap');\n\n  var client = div.node().getBoundingClientRect();\n  fo.attr('width', client.width).attr('height', client.height);\n\n  return fo;\n}\n","import * as _ from 'lodash-es';\n\n// Public utility functions\nexport { isSubgraph, edgeToId, applyStyle, applyClass, applyTransition };\n\n/*\n * Returns true if the specified node in the graph is a subgraph node. A\n * subgraph node is one that contains other nodes.\n */\nfunction isSubgraph(g, v) {\n  return !!g.children(v).length;\n}\n\nfunction edgeToId(e) {\n  return escapeId(e.v) + ':' + escapeId(e.w) + ':' + escapeId(e.name);\n}\n\nvar ID_DELIM = /:/g;\nfunction escapeId(str) {\n  return str ? String(str).replace(ID_DELIM, '\\\\:') : '';\n}\n\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr('style', styleFn);\n  }\n}\n\nfunction applyClass(dom, classFn, otherClasses) {\n  if (classFn) {\n    dom.attr('class', classFn).attr('class', otherClasses + ' ' + dom.attr('class'));\n  }\n}\n\nfunction applyTransition(selection, g) {\n  var graph = g.graph();\n\n  if (_.isPlainObject(graph)) {\n    var transition = graph.transition;\n    if (_.isFunction(transition)) {\n      return transition(selection);\n    }\n  }\n\n  return selection;\n}\n"],"names":["value","baseClone","write","g","json","options","directed","isDirected","multigraph","isMultigraph","compound","isCompound","nodes","writeNodes","edges","writeEdges","_","graph","v","nodeValue","node","parent","e","edgeValue","edge","w","name","intersectLine","p1","p2","q1","q2","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","denom","offset","num","y","x","sameSign","Math","abs","intersectPolygon","polyPoints","point","x1","y1","intersections","minX","Number","POSITIVE_INFINITY","minY","forEach","entry","min","left","width","top","height","i","length","intersect","push","sort","p","q","pdx","pdy","distp","sqrt","qdx","qdy","distq","console","log","intersectRect","sx","sy","dx","dy","h","channel","color","lang","round","Color","parse","arrows","normal","id","type","path","append","attr","style","util","vee","undirected","addLabel","root","location","label","labelSvg","labelType","domNode","appendChild","labelStyle","addSVGLabel","addHtmlLabel","lines","text","ch","newText","escaped","processEscapeSequences","split","addTextLabel","labelBBox","getBBox","createClusters","selection","clusters","filter","svgClusters","selectAll","data","exit","remove","enterSelection","enter","each","thisGroup","d3","this","clusterLabelPos","merge","c","domCluster","createEdgeLabels","exitSelection","svgEdgeLabels","classed","select","bbox","labelId","intersectNode","createEdgePaths","previousPaths","newPaths","svgPaths","svgPathsEnter","sourceElem","elem","createLine","points","map","matrix","ownerSVGElement","getScreenCTM","inverse","multiply","translate","f","getCoords","svgPathExit","undefined","domEdge","arrowheadId","url","href","fragmentId","tail","head","slice","unshift","calcPoints","arrowhead","line","d","curve","interpolate","createNodes","shapes","simpleNodes","svgNodes","labelGroup","labelDom","shape","paddingLeft","paddingRight","paddingTop","paddingBottom","shapeSvg","shapeBBox","intersectEllipse","rx","ry","cx","cy","px","py","det","rect","insert","ellipse","circle","r","max","intersectCircle","diamond","SQRT2","join","render","fn","svg","children","paddingX","paddingY","padding","NODE_DEFAULT_ATTRS","k","_prevWidth","_prevHeight","EDGE_DEFAULT_ATTRS","preProcessGraph","outputGroup","createOrSelectGroup","clustersGroup","edgePathsGroup","edgeLabels","layout","positionNodes","positionEdgeLabels","created","positionClusters","postProcessGraph","arguments","setCreateNodes","setCreateClusters","setCreateEdgeLabels","setCreateEdgePaths","setShapes","setArrows","empty","fo","div","html","client","getBoundingClientRect","isSubgraph","edgeToId","escapeId","ID_DELIM","str","String","replace","applyStyle","dom","styleFn","applyClass","classFn","otherClasses","applyTransition","transition"],"sourceRoot":""}